{
  "id": "cluster-003",
  "name": "Update cluster OpenShift version",
  "description": "Policy that grants a user the ability to update the OpenShift version of a specific ROSA cluster.",
  "policyFile": "update-cluster-version.cedar",
  "testCases": [
    {
      "description": "User can update version of specified cluster",
      "request": {
        "action": "UpdateClusterVersion",
        "resource": "arn:aws:rosa:us-west-2:111122223333:cluster/my-cluster"
      },
      "expectedResult": "ALLOW"
    },
    {
      "description": "User cannot update version of different cluster",
      "request": {
        "action": "UpdateClusterVersion",
        "resource": "arn:aws:rosa:us-west-2:111122223333:cluster/other-cluster"
      },
      "expectedResult": "DENY"
    },
    {
      "description": "User cannot update cluster config",
      "request": {
        "action": "UpdateClusterConfig",
        "resource": "arn:aws:rosa:us-west-2:111122223333:cluster/my-cluster"
      },
      "expectedResult": "DENY"
    }
  ],
  "notes": "UpdateClusterVersion is separate from UpdateClusterConfig. Version updates trigger a rolling update of the control plane."
}
